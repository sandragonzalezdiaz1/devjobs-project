<!DOCTYPE html>
<html lang="es">
  <head>
    <title>DevJobs - Empleos</title>
    <meta charset="UTF-8" />
    <meta
      name="description"
      content="Listado con empleos y filtros para encontrar el trabajo de tus sueños."
    />

    <link rel="stylesheet" href="./styles.css" />

    <!-- type="module" espera automáticamente a que el DOM esté listo. Además, activa la posibilidad de usar modulos (importar y exportar) -->
    <script type="module">
      //Importamos React desde un CDN
      import React from "https://esm.sh/react?dev";
      import ReactDOM from "https://esm.sh/react-dom/client?dev";

      //Para hacerlos variables globales y poder usarlas en cualquier parte de la pag
      window.React = React;
      window.ReactDOM = ReactDOM;
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      //CON JSX (podemos usarlo al importar Babel)
      // ELEMENTO DE REACT
      /* const titulo = (
        <h1 style = {{ color: "#09f" }}>Hola, bienvenido a React!</h1>
      ); */

      //SIN JSX
      /* const titulo = React.createElement(
        "h1",
        { style: { color: "#09f" } },
        "Hola, React.js!"
      )
    */

      // COMPONENTE DE REACT
      /* function Saludo({ persona, color }){
        return <h2 style={{ color: color }}>Hola, {persona}</h2>;
       } */

      function JobCard({ data, titulo, empresa, ubicacion, descripcion }) {

        //Desestructuración
        const [isApplied, setIsApplied] = React.useState(false)

        const handleClick = () => {
          setIsApplied(!isApplied)
        }

        const text = isApplied ? 'Aplicado' : 'Aplicar'
        const buttonClass = isApplied ? 'is-applied' : ''

        return (
          <article className="job-listing-card"
          data-modalidad ={data?.modalidad}
          data-nivel ={data?.nivel}
          data-technology ={data?.technology}
          
          >
            <div>
            <h3>{titulo}</h3>
            <small>
              {empresa} | {ubicacion}
            </small>
            <p>{descripcion}</p>
            </div>
            <button className={`button-apply-job ${buttonClass}`} onClick={handleClick} disabled={isApplied}>{text}</button>
          </article>
        );
      }

      // COMPONENTE PRINCIPAL
      function App() {
        return (
          <div className="jobs-listings">
            {/* <Saludo persona="Sandra" color="#09f"></Saludo>
            <Saludo persona="midudev" color="#008" /> */}
            <JobCard titulo="Desarrollador/a Frontend React.js"
              empresa="Tech Solutions"
              ubicacion="Remoto"
              descripcion="Únete a nuestro equipo como desarrollador/a fronted especializado en React.js. Trabaja en proyectos innovadores y colabora con un equipo dinámico."
              data={{ modalidad: "remoto", nivel: "junior", technology:"react"}}
            >
            </JobCard>

          </div>
        );
      }

      const rootElement = document.querySelector("#root");
      const root = ReactDOM.createRoot(rootElement);
      //root.render(titulo);
      root.render(<App />);
    </script>

    <!-- defer descarga en paralelo pero ejecuta después de parsear -->
    <!-- <script defer src="script.js"></script> -->
  </head>

  <body>
    <header>
      <h1>
        <svg
          fill="none"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        DevJobs
      </h1>

      <nav>
        <a href="index.html"> Inicio </a>
        <a href="">Empleos</a>
      </nav>
    </header>

    <main>
      <section class="jobs-search">
        <h1>React.js, primeros pasos</h1>
      </section>
      <section>
           <div id="root"></div>
           <h2>Empleos disponibles</h2>
      </section>
    </main>

    <footer style="padding-bottom: 2000px">
      <small>&copy; 2025 DevJobs. Todos los derechos reservados.</small>
    </footer>
  </body>
</html>
